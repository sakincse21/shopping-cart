<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="main-area">
        <div class="submain-area container">
            <div class="row justify-content-center d-flex cart-item ">
                <div class="col-md-7 d-flex align-items-center">
                    <img src="images/product-1.png" alt="">
                    <h5>Iphone 11 128GB Black</h5>
                </div>
                <div class="col-md-5 d-flex align-items-center row">
                    <div class="quantity d-flex justify-content-center col-md-6">
                        <button class="quantity-control form-control " id="qcm1">-</button>
                        <input type="text" class="form-control item-quantity " id="iq1" value="0">
                        <button class="form-control quantity-control " id="qcp1">+</button>
                    </div>
                    <div class="col-md-6 d-flex align-items-center justify-content-around">
                        <h5>$<span id="item-price1">1099</span></h5>
                        <img src="images/remove.png" style="width: 25px;" alt="">
                    </div>
                </div>
            </div>
            <div class="row justify-content-center d-flex cart-item ">
                <div class="col-md-7 d-flex align-items-center">
                    <img src="images/product-2.png" alt="">
                    <h5>Iphone 11 Case Black</h5>
                </div>
                <div class="col-md-5 d-flex align-items-center row">
                    <div class="quantity d-flex justify-content-center col-md-6">
                        <button class="quantity-control form-control" id="qcm2">-</button>
                        <input type="text" class="form-control item-quantity " id="iq2" value="0">
                        <button class="form-control quantity-control" id="qcp2">+</button>
                    </div>
                    <div class="col-md-6 d-flex align-items-center justify-content-around">
                        <h5>$<span id="item-price2">49</span></h5>
                        <img src="images/remove.png" style="width: 25px;" alt="">
                    </div>
                </div>
            </div>
            <div class="">
                <div class="row row-cols-2 calculation-area">
                    <div class="col text-start">Subtotal</div>
                    <div class="col text-end">$<span id="subtotal-money">0</span></div>
                    <div class="col text-start">Tax</div>
                    <div class="col text-end">$<span>0</span></div>
                    <div class="col text-start">Total</div>
                    <div class="col text-end">$<span id="total-money">0</span></div>
                </div>
            </div>
        </div>

    </div>


    <script>
        function currentSubtotalGettr() {
            const temp = document.getElementById('subtotal-money').innerText;
            const value = parseFloat(temp);
            return value;
        }
        function currentTotalGettr() {
            const temp = document.getElementById('total-money').innerText;
            const value = parseFloat(temp);
            return value;
        }
        //first item calculation
        document.getElementById('qcm1').addEventListener('click', function () {
            const tempamount1 = document.getElementById('iq1').value;
            const tempamount2 = document.getElementById('iq2').value;
            const tempsubtotal = (tempamount1*1099)+(tempamount2*49);
            document.getElementById('subtotal-money').innerText=tempsubtotal;
            document.getElementById('total-money').innerText=tempsubtotal;
            let item1amount = parseFloat(tempamount1);

            item1amount--;
            if (item1amount < 0) {
                item1amount = 0;
                alert('item cannot be less than 0');
            } else {
                document.getElementById('iq1').value = item1amount;
                const item1price = item1amount * 1099;
                const currentsubtotal = currentSubtotalGettr()-1099;
                const currenttotal = currentTotalGettr()-1099;
                document.getElementById('subtotal-money').innerText=currentsubtotal;
                document.getElementById('total-money').innerText=currenttotal;
            }

        })
        //first item calculation
        document.getElementById('qcp1').addEventListener('click', function () {
            const tempamount1 = document.getElementById('iq1').value;
            const tempamount2 = document.getElementById('iq2').value;
            const tempsubtotal = (tempamount1*1099)+(tempamount2*49);
            document.getElementById('subtotal-money').innerText=tempsubtotal;
            document.getElementById('total-money').innerText=tempsubtotal;
            let item1amount = parseFloat(tempamount1);
            item1amount++;
            if (item1amount > 20) {
                item1amount = 20;
                alert('item cannot be more than 20');
            } else {
                document.getElementById('iq1').value = item1amount;
                const item1price = item1amount * 1099;
                const currentsubtotal = currentSubtotalGettr()+1099;
                const currenttotal = currentTotalGettr()+1099;
                document.getElementById('subtotal-money').innerText=currentsubtotal;
                document.getElementById('total-money').innerText=currenttotal;
            }

        })
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>